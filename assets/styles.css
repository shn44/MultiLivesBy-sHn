:root {
--background:#0f1117; 
--text:#ffffff; 
--input-bg:#1c1f26; 
--input-border:#2a2d35;
--button-bg: linear-gradient(135deg,#4facfe,#00f2fe);
--button-hover: linear-gradient(135deg,#43e97b,#38f9d7);
--stream-bg:#1c1f26; 
--shadow: rgba(0,0,0,0.3);
--theme-btn-bg: #2a2d35;
--theme-btn-text: #ffffff;
}

[data-theme="light"] {
--background:#f9f9fb; 
--text:#222; 
--input-bg:#fff; 
--input-border:#ddd;
--stream-bg:#fff; 
--shadow: rgba(0,0,0,0.1);
--theme-btn-bg: #4facfe;
--theme-btn-text: #ffffff;
}

* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: "Inter", sans-serif; 
background: var(--background); 
color: var(--text);
margin: 0; 
padding: 20px; 
transition: all .25s ease; 
height: 100vh;
}

.container {
max-width: 1400px;
margin: 0 auto;
}

.header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 18px;
}

h1 {
font-size: 1.8rem;
font-weight: 700;
background: var(--button-bg);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}

.header-actions {
display: flex;
gap: 10px;
}

#theme-toggle {
padding: 10px 22px;
background: var(--theme-btn-bg);
color: var(--theme-btn-text);
border: none;
border-radius: 10px;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
box-shadow: 0 4px 12px rgba(0,0,0,0.2);
transition: all 0.3s ease;
}

#theme-toggle:hover {
filter: brightness(1.2);
transform: translateY(-2px);
box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

#theme-toggle:active {
transform: scale(0.97);
box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

#toggle-chats, #drag-mode-toggle {
padding: 10px 18px;
background: var(--theme-btn-bg);
color: var(--theme-btn-text);
border: none;
border-radius: 10px;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
box-shadow: 0 4px 12px rgba(0,0,0,0.2);
transition: all 0.3s ease;
}

#toggle-chats:hover, #drag-mode-toggle:hover {
filter: brightness(1.2);
transform: translateY(-2px);
box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

.controls {
display: flex;
justify-content: center;
gap: 10px;
margin-bottom: 14px;
}

#stream-input {
padding: 12px;
width: 420px;
border-radius: 10px;
border: 2px solid var(--input-border);
background: var(--input-bg);
color: var(--text);
outline: none;
}

#add-stream {
padding: 12px 18px;
border-radius: 10px;
border: none;
background: var(--button-bg);
color: #fff;
cursor: pointer;
font-weight: 600;
}

.streams-container {
position: relative;
width: 100%;
height: calc(100vh - 200px);
border-radius: 8px;
}

.stream {
position: absolute;
background: var(--stream-bg);
box-shadow: 0 6px 20px var(--shadow);
border-radius: 12px;
overflow: hidden;
min-width: 200px;
min-height: 150px;
cursor: grab;
}

.stream iframe {
width: 100%;
height: 100%;
border: 0;
display: block;
}

.drag-overlay {
position: absolute;
inset: 0;
border-radius: 12px;
z-index: 50;
pointer-events: none;
}

body.drag-mode .drag-overlay {
pointer-events: auto;
background: transparent;
}

.remove-stream {
position: absolute;
top: 10px;
right: 10px;
background: #ff5f5f;
color: #fff;
border: 0;
border-radius: 50%;
width: 32px;
height: 32px;
font-size: 16px;
cursor: pointer;
z-index: 70;
display: flex;
align-items: center;
justify-content: center;
}

.handle {
position: absolute;
z-index: 60;
background: transparent;
}

.handle.n {
top: -6px;
left: 8px;
right: 8px;
height: 12px;
cursor: ns-resize;
}

.handle.s {
bottom: -6px;
left: 8px;
right: 8px;
height: 12px;
cursor: ns-resize;
}

.handle.e {
right: -6px;
top: 8px;
bottom: 8px;
width: 12px;
cursor: ew-resize;
}

.handle.w {
left: -6px;
top: 8px;
bottom: 8px;
width: 12px;
cursor: ew-resize;
}

.handle.nw {
top: -6px;
left: -6px;
width: 12px;
height: 12px;
cursor: nwse-resize;
}

.handle.ne {
top: -6px;
right: -6px;
width: 12px;
height: 12px;
cursor: nesw-resize;
}

.handle.sw {
bottom: -6px;
left: -6px;
width: 12px;
height: 12px;
cursor: nesw-resize;
}

.handle.se {
bottom: -6px;
right: -6px;
width: 12px;
height: 12px;
cursor: nwse-resize;
}

.chat-container {
position: fixed;
top: 0;
right: 0;
width: 350px;
height: 100vh;
background: var(--background);
border-left: 2px solid var(--input-border);
display: flex;
flex-direction: column;
transition: transform .28s ease;
z-index: 1000;
}

.chat-container.hidden {
transform: translateX(100%);
}

.chat-tabs {
display: flex;
border-bottom: 2px solid var(--input-border);
}

.chat-tabs button {
flex: 1;
padding: 10px;
border: none;
background: none;
color: var(--text);
cursor: pointer;
}

.chat-tabs button.active {
background: var(--button-bg);
color: #fff;
}

.chat-frame {
flex: 1;
overflow: hidden;
}

.chat-frame iframe {
width: 100%;
height: 100%;
border: 0;
}

.header .header-actions button#drag-mode-toggle.active {
outline: 2px solid #4facfe;
border-radius: 8px;
}
